{"version":3,"sources":["components/SearchBox.js","components/Movie.js","components/MovieList.js","components/Pagination.js","components/MovieDetail.js","components/App.js","index.js"],"names":["SearchBox","props","action","onSubmit","handleSubmit","Paper","elevation","style","padding","display","alignItems","InputBase","autoFocus","onChange","handleChange","marginLeft","flex","placeholder","IconButton","type","aria-label","Movie","state","isFavorite","poster_src","this","poster","Media","height","Card","width","marginTop","marginBottom","marginRigth","CardActionArea","component","Link","to","movieId","CardMedia","image","title","CardContent","Typography","gutterBottom","variant","CardActions","Button","size","color","onClick","setState","updateFavorites","checkFavorite","Component","MovieList","movies","match","url","JSON","parse","localStorage","getItem","length","GridList","cellHeight","justifyContent","map","movie","i","key","imdbID","Poster","Title","Pagination","pageLinks","active","currentPage","push","nextPage","pages","MovieDetail","movieData","id","params","fetch","process","then","data","json","Response","currentMovie","maxWidth","margin","MovieDetails","align","excludeProps","starIconColor","src","Plot","Object","entries","el","indexOf","App","e","preventDefault","apiKey","searchTerm","Search","totalResults","target","value","pageNumber","nextProps","nextState","favorites","arr","found","some","removedArr","filter","setItem","stringify","numberPages","Math","floor","basename","className","alt","Tooltip","exact","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a4907113.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Paper, InputBase, IconButton} from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst SearchBox = (props) => {\r\n    return (\r\n        <form action='' onSubmit={props.handleSubmit}>\r\n            <Paper elevation={1} style= {{\r\n                padding: '2px 4px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                }}>\r\n                <InputBase autoFocus onChange={props.handleChange} style={{\r\n                    marginLeft: 8,\r\n                    flex: 1\r\n                    }} placeholder='Search movie'/>\r\n                <IconButton type='submit' aria-label=\"Search\" style={{ padding: 10}}>\r\n                    <SearchIcon />\r\n                </IconButton>\r\n            </Paper>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SearchBox;\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Card, IconButton, CardActionArea, CardContent, CardActions, CardMedia, Typography} from '@material-ui/core';\r\nimport StarIcon from '@material-ui/icons/Star';\r\n\r\nclass Movie extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFavorite: false\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const poster_src =\r\n    (this.props.poster === 'N/A')?\r\n      'empty_poster.png' : this.props.poster;\r\n\r\n  const style = {\r\n      Media: { height: 345 },\r\n      Card: {width: 280, marginTop: 10, marginBottom: 10, marginLeft:10, marginRigth:10}\r\n  }\r\n\r\n  return(\r\n    <Card style={style.Card}>\r\n      <CardActionArea component={ Link } to={`/${this.props.movieId}`}>\r\n        <CardMedia\r\n          style={style.Media}\r\n          image={poster_src}\r\n          title=\"poster\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {this.props.title}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n\r\n      <CardActions>\r\n        <Button component={ Link } to={`/${this.props.movieId}`} size=\"small\" variant=\"contained\" color=\"primary\">\r\n          Detail\r\n        </Button>\r\n        <IconButton aria-label=\"add to favorites\"\r\n          onClick={() => {\r\n            this.setState({ isFavorite: !this.state.isFavorite});\r\n            this.props.updateFavorites(this.props.movieId, this.props.title, poster_src)\r\n          }}\r\n        >\r\n          <StarIcon color={this.props.checkFavorite(this.props.movieId)? 'secondary': 'inherit'}/>\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n  }\r\n}\r\n\r\nexport default Movie;\r\n","import React from 'react';\r\nimport Movie from './Movie';\r\nimport { GridList } from '@material-ui/core';\r\n\r\nconst MovieList = (props) => {\r\n    let movies;\r\n    if (props.match.url === '/favorites') {\r\n        movies = JSON.parse(localStorage.getItem('favoriteMovies'));\r\n        if (!movies) {\r\n            movies = [];\r\n        }\r\n    } else {\r\n        movies = props.movies;\r\n\r\n    }\r\n    if (!movies || movies.length === 0) {\r\n        return(\r\n            <h2>No results</h2>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <GridList cellHeight={345} style={{justifyContent: 'center', marginLeft: -10}}>\r\n        {\r\n            movies.map((movie, i) => {\r\n                return (\r\n                    <Movie key={i}\r\n                        updateFavorites={props.updateFavorites}\r\n                        checkFavorite={props.checkFavorite}\r\n                        movieId={movie.imdbID}\r\n                        poster={movie.Poster}\r\n                        title={movie.Title}/>\r\n                )\r\n            })\r\n        }\r\n        </GridList>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default MovieList;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst Pagination = (props) => {\r\n    const pageLinks = [];\r\n\r\n    for(let i=1; i<= props.pages + 1; i++) {\r\n        const active = (props.currentPage+0 === i)? 'secondary': 'default';\r\n        pageLinks.push(\r\n            <Button key={i} color={active} onClick={() => props.nextPage(i)}>\r\n                {i}\r\n            </Button>)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <ul>\r\n                { props.currentPage > 1? <Button onClick={() => props.nextPage(props.currentPage - 1)}>Prev</Button> : ''}\r\n                { pageLinks }\r\n                { props.currentPage < props.pages + 1? <Button onClick={() => props.nextPage(props.currentPage + 1)}>Next</Button> : ''}\r\n            </ul>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Pagination;\r\n","import React, {Component} from 'react';\r\nimport {Card, CardMedia, CardContent, IconButton, Typography} from '@material-ui/core';\r\nimport StarIcon from '@material-ui/icons/Star';\r\n\r\nclass MovieDetail extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        movieData: '',\r\n        isFavorite: false,\r\n      }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const apiKey = process.env.REACT_APP_API;\r\n        const id = this.props.match.params.imdbID;\r\n        fetch(`http://www.omdbapi.com/?apikey=${apiKey}&i=${id}&plot=full`)\r\n        .then(data => data.json())\r\n        .then(data => {\r\n            if (data.Response) {\r\n              this.setState({ movieData : data });\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { checkFavorite, updateFavorites} = this.props;\r\n        const currentMovie = this.state.movieData;\r\n        const poster_src =\r\n        (currentMovie.Poster === 'N/A')?\r\n            'empty_poster.png' : currentMovie.Poster;\r\n\r\n        const style = {\r\n            Card: { maxWidth: 500, margin: 'auto' },\r\n            Media: { height: 400, maxWidth: 320, margin: '15px auto'},\r\n            MovieDetails: { color: 'blue', align: 'left' }\r\n        };\r\n\r\n        // when displaying all the fields from JSON, we can exclude some\r\n        const excludeProps = ['Title', 'Response', 'Poster', 'Plot'];\r\n        const isFavorite = checkFavorite(currentMovie.imdbID);\r\n        const starIconColor = isFavorite ? 'secondary': 'inherit';\r\n\r\n        return(\r\n            <div>\r\n                <Card style={style.Card}>\r\n                    <CardMedia src='picture'\r\n                        style={style.Media}\r\n                        image={poster_src}\r\n                        title={currentMovie.Title}\r\n                    />\r\n                    <CardContent>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\" align='center'>\r\n                            {currentMovie.Title}\r\n                            <IconButton aria-label=\"add to favorites\"\r\n                                onClick={() => {\r\n                                    this.setState({isFavorite: !isFavorite});\r\n                                    updateFavorites(currentMovie.imdbID, currentMovie.Title, poster_src)\r\n                                }}\r\n                            >\r\n                                <StarIcon\r\n                                    color={starIconColor}/>\r\n                            </IconButton>\r\n                        </Typography>\r\n\r\n                        <Typography component=\"p\" gutterBottom>\r\n                        {currentMovie.Plot}\r\n                        </Typography>\r\n\r\n                        {Object.entries(currentMovie).map((el, i) =>\r\n                            excludeProps.indexOf(el[0]) === -1 ?\r\n                            <div key={i}>\r\n                                <Typography display=\"inline\" variant=\"body1\" style={style.MovieDetails}>\r\n                                    {el[0] + ':'}\r\n                                </Typography>\r\n                                <Typography display=\"inline\" variant=\"body1\" >\r\n                                {' ' + el[1]}\r\n                                </Typography>\r\n                            </div>\r\n                            :\r\n                            null\r\n                        )}\r\n\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieDetail;\r\n","import React, { Component } from 'react';\nimport \"../App.css\";\nimport { HashRouter, Route, Link, Switch} from 'react-router-dom';\nimport SearchBox from './SearchBox.js';\nimport MovieList from './MovieList';\nimport Pagination from './Pagination';\nimport MovieDetail from './MovieDetail';\nimport {Button, Tooltip, Typography,} from '@material-ui/core';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state ={\n      movies: [],\n      searchTerm: '',\n      totalResults: 0,\n      currentPage: 1,\n    }\n    this.apiKey = process.env.REACT_APP_API\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // it should update only on submit of a searchTerm\n    // not on every change in searchTerm\n    const answer = nextState.searchTerm === this.state.searchTerm? true:false;\n    return (answer)\n    }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(`http://www.omdbapi.com/?apikey=${this.apiKey}&s=${this.state.searchTerm}`)\n    .then(data => data.json())\n    .then(data => {\n      if (data.Response) {\n        this.setState({ movies: data.Search, totalResults: data.totalResults})\n      }\n    })\n  }\n\n  handleChange = (e) => {\n    this.setState({ searchTerm: e.target.value })\n  }\n\n  nextPage = (pageNumber) => {\n    fetch(`http://www.omdbapi.com/?apikey=${this.apiKey}&s=${this.state.searchTerm}&page=${pageNumber}`)\n    .then(data => data.json())\n    .then(data => {\n      if (data.Response) {\n        this.setState({ movies: data.Search, currentPage: pageNumber})\n      }\n    })\n  }\n\n  updateFavorites(id, title, poster) {\n    // update local storage - called onClick\n    let favorites = localStorage.getItem('favoriteMovies');\n    let arr = [];\n    if (favorites) {\n      arr = JSON.parse(favorites);\n    }\n\n    const found = arr.some(el => el.imdbID === id);\n    if (!arr || !found) {\n      // movie not found in favorites so add it\n      arr.push({ imdbID: id, Title: title, Poster: poster });\n      localStorage.setItem('favoriteMovies', JSON.stringify(arr));\n    } else {\n      // remove the movie from favorites\n      const removedArr = arr.filter( el => el.imdbID !== id );\n      localStorage.setItem('favoriteMovies', JSON.stringify(removedArr));\n    }\n\n  }\n\n  checkFavorite(id) {\n    // get the array from local storage\n    // and check if movie is in favorites\n    let favorites = JSON.parse(localStorage.getItem('favoriteMovies'));\n    if (!favorites) return false;\n    const found = favorites.some(el => el.imdbID === id);\n    return found;\n  }\n\n  render() {\n\n    const numberPages = Math.floor(this.state.totalResults / 10);\n\n    return (\n      <HashRouter basename='/'>\n      <div className=\"App\">\n        <div className='titleBar'>\n          <div>\n            <img alt='app icon' width='50' src='free-movies-icon-21.jpg' />\n          </div>\n          <div>\n            <h1>Movie Search</h1>\n          </div>\n          <div>\n            <Tooltip title=\"Show favorites\" >\n              <Button component={ Link } to='/favorites' size='small' variant=\"contained\" color='primary' >\n                Favorites\n              </Button>\n            </Tooltip>\n            <Tooltip title=\"Search movies\">\n              <Button component={ Link } to='/' size='small' variant=\"contained\" color='primary' >\n                Search\n              </Button>\n            </Tooltip>\n          </div>\n        </div>\n\n        <Switch>\n        {/* this is the way to pass props to a component which shoud render by React Router*/}\n          <Route\n            exact path='/'\n            render={(props) =>\n              <div>\n                <SearchBox {...props} handleSubmit={this.handleSubmit} handleChange={this.handleChange} />\n                { this.state.movies.length !== 0 &&\n                    <MovieList  {...props} movies={this.state.movies}\n                    updateFavorites={this.updateFavorites}\n                    checkFavorite={this.checkFavorite}\n                  />\n                }\n                { this.state.totalResults > 10 ?\n                  <Pagination pages={numberPages} nextPage={this.nextPage} currentPage={this.state.currentPage}/> :\n                  ''\n                }\n              </div>\n            }\n          />\n          <Route\n            path=\"/favorites\"\n            render={(props) =>\n              <div>\n                <Typography variant=\"h2\" component=\"h2\" gutterBottom align='center'>Favorite movies</Typography>\n                <MovieList {...props}\n                  movies={[]}\n                  updateFavorites={this.updateFavorites}\n                  checkFavorite={this.checkFavorite}\n                />\n              </div>\n            }\n          />\n          <Route\n            path='/:imdbID'\n            render={(props) =>\n              <MovieDetail {...props}\n                apiKey={this.apiKey}\n                updateFavorites={this.updateFavorites}\n                checkFavorite={this.checkFavorite}\n              />\n            }\n          />\n        </Switch>\n      </div>\n      </HashRouter>\n    );\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}